<!--
  ~ Copyright 2021 The University of Manchester
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="ngdialog-content-small">
    <div class="ngdialog-message">
        <h2>Add scheduled user permission</h2>

        <div>      
            <form class="form-horizontal">
                <div class="form-group">

                    <div class="form-group">
                        <label class="col-sm-2 control-label">Start</label>
                        <div class="col-sm-9">
                            <p class="input-group">
                                <input type="text" class="form-control" datetime-picker="MM/dd/yyyy HH:mm" ng-model="PARENT_MODEL.addScheduledUserPermission.start" is-open="PARENT_MODEL.addScheduledUserPermission.isOpenStart" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="openStartCalendar($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>

                        <label class="col-sm-2 control-label">End</label>
                        <div class="col-sm-9">
                            <p class="input-group">
                                <input type="text" class="form-control" datetime-picker="MM/dd/yyyy HH:mm" ng-model="PARENT_MODEL.addScheduledUserPermission.end" is-open="PARENT_MODEL.addScheduledUserPermission.isOpenEnd" />
                                <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="openEndCalendar($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                            </p>
                        </div>
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-9">
                            <label style="color:red">{{PARENT_MODEL.addScheduledUserPermission.errorMessage}}</label>
                        </div>
                    </div>                         
                    <div class="col-sm-11 input-group">
                        <div class="pull-right btn-toolbar">
                            <button ng-click="cancel() && closeThisDialog('Done')" title="Cancel" type="button" class="btn btn-default" >Cancel</button>            
                            <button ng-disabled="!isStartEndDateValid()" ng-click="addScheduledUser() && closeThisDialog('Done')" title="Add scheduled permissions" type="button" class="btn btn-primary" >Add</button>            
                        </div>
                    </div>     
                </div>
            </form>
        </div>             
    </div>
</div>
